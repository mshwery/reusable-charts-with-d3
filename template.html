<!DOCTYPE html>
<html>
<head>
  <title></title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">-->
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
  <!--This one seems to work all the time, but really small on ipad-->
  <!--<meta name="viewport" content="initial-scale=0.4">-->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="stylesheet" media="all" href="theme/css/default.css">
  <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="theme/css/phone.css">
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.2/d3.min.js"></script>
  <script src="js/r3.pie.js"></script>

  <script data-main="js/slides" src="js/require-1.0.8.min.js"></script>
</head>
<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="title-slide segue nobackground">
    <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
      <p data-config-presenter><!-- populated from slide_config.json --></p>
    </hgroup>
  </slide>

  <slide class="logoslide nobackground">
    <article class="flexbox vcenter">
      <img src="images/fedlogo.svg" style="display: block; width: 62%; height: auto;">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>What's D3.js?</h2>
    </hgroup>
    <article>
      <p>What it isn't:</p>
      <ul class="build">
        <li><b>not</b> a charting/plotting tool</li>
        <li><b>not</b> canvas, Raphael, or Processing</li>
        <li><b>not</b> just svg (any elements!)</li>
      </ul>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>What's D3.js?</h2>
    </hgroup>
    <article>
      <p>What it is:</p>
      <ul class="build">
        <li>
          A tool to bind data to the DOM
        </li>
        <li>
          DOM selection and manipulation
        </li>
        <li>
          Enter/Exit
        </li>
        <li>
          Transformation and Composition
        </li>
        <li>
          Transitions
        </li>
      </ul>
    </article>
  </slide>

  <slide>
    <article>
      <iframe data-src="http://christophermanning.org/gists/1703449/#/[10]50/1/0"></iframe>
    </article>
  </slide>

  <slide>
    <article>
      <iframe data-src="http://bl.ocks.org/metormote/raw/6392996/04f796e15b249063f22355b3f48e3f686f4b46c9/"></iframe>
    </article>
  </slide>

  <slide>
    <article>
      <iframe src="http://bl.ocks.org/mbostock/raw/4062085/47e8d7ea6d446cde559be17d9c09da2a6c80ad1c/"></iframe>
    </article>
  </slide>

  <slide>
    <article>
      <iframe src="http://bl.ocks.org/Caged/raw/6476579/7d0158c142ca6bdbb085132c9daa59855f3552cb/"></iframe>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Bar Chart</h2>
    </hgroup>
    <article>
      <img src="images/bars.png">
      <img src="images/bars-1.png">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Bar Chart</h2>
    </hgroup>
    <article>
      <img src="images/bars.png">
      <img src="images/bars-2.png">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Bar Chart</h2>
    </hgroup>
    <article>
      <img src="images/bars.png">
      <img src="images/bars-3.png">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Bar Chart</h2>
    </hgroup>
    <article>
      <img src="images/bars.png">
      <img src="images/bars-4.png">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Bar Chart</h2>
    </hgroup>
    <article>
      <img src="images/bars.png">
      <img src="images/bars-5.png">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Bar Chart</h2>
    </hgroup>
    <article>
      <img src="images/bars.png">
      <img src="images/bars-6.png">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>But...</h2>
    </hgroup>
    <article>
      <p>D3 doesn't offer many opinions about:</p>
      <ul>
        <li>organization & architecture</li>
        <li>reducing boilerplate</li>
        <li>patterns for code reuse</li>
      </ul>
    </article>
<!--
    <article>
      <p>A list where items build:</p>
      <ul class="build">
        <li>Pressing 'h' highlights code snippets</li>
        <li>Pressing 'p' toggles speaker notes (if they're on the current slide)</li>
        <li>Pressing 'f' toggles fullscreen viewing</li>
        <li>Pressing 'w' toggles widescreen</li>
        <li>Pressing 'o' toggles overview mode</li>
        <li>Pressing 'ESC' toggles off these goodies</li>
      </ul>
      <p>Another list, but items fade as they build:</p>
      <ul class="build fade">
        <li>Hover over me!</li>
        <li>Hover over me!</li>
        <li>Hover over me!</li>
      </ul>
    </article>
-->
  </slide>

  <slide class="segue dark quote nobackground">
    <article class="flexbox vleft auto-fadein">
      <h2>Architecting <b>Reusable</b> Charts</h2>
      <div class="author">
        Mike Bostock<br>
        Towards Reusable Charts<br>
        <a href="http://bost.ocks.org/mike/chart/">http://bost.ocks.org/mike/chart/</a>
      </div>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Architecting Reusable Charts</h2>
    </hgroup>
    <article>
      <ul class="build">
        <li>Configurable</li>
        <li>Extensible</li>
        <li>Repeatable</li>
      </ul>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h4>Architecting Reusable Charts</h4>
      <h2>Configurable</h2>
    </hgroup>
    <article class="smaller">
      <p>Using r3</p>
      <pre class="prettyprint" data-lang="javascript">
var opts = {
  maxValue: 60,
  background: true,
  thickness: 2
};

var donut = r3.donut.generate(opts);

setInterval(function() {
  donut.load({ data: new Date().getSeconds() });
}, 1000);
</pre>
      <div id="pie-1" class="pie-example"></div>
      <div id="pie-2" class="pie-example"></div>
      <div id="pie-3" class="pie-example"></div>

      <script type="text/javascript">
        var r = 150;

        width = height = 150;

        var donut = r3.donut.generate({
          bindTo: '#pie-3',
          maxValue: 60,
          background: true,
          thickness: 2,
          colors: ['red'],
          size: {
            width: r,
            height: r
          }
        });

        setInterval(function() {
          donut.load({ data: new Date().getSeconds() });
        }, 1000);

        var donut2 = r3.donut.generate({
          bindTo: '#pie-2',
          thickness: 20,
          offset: 8,
          size: {
            width: r,
            height: r
          }
        });

        donut2.load({ data: [2,6,4,7,11] });

        var donut3 = r3.donut.generate({
          bindTo: '#pie-1',
          size: {
            width: r,
            height: r
          }
        });

        donut3.load({ data: [2,6,4,7,11] });
      </script>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h4>Architecting Reusable Charts</h4>
      <h2>Extensible</h2>
    </hgroup>
    <article class="smaller">
      <p>Using d3.chart</p>
      <pre class="prettyprint" data-lang="javascript">
// define a chart
d3.chart("CircleChart", {
  initialize: function() {
    log("Hi! I'm a chart");
  }
});

// extend the original chart with additional functionality
d3.chart("CircleChart").extend("OtherCircleChart", {
  initialize: function() {
    log("I am a circle chart based on the one above!");
  }
})

var chart = d3.select(output)
  .chart("OtherCircleChart");
</pre>
      <footer class="source">source: <a href="http://misoproject.com/d3-chart/api.html#d3chart_extend">http://misoproject.com/d3-chart/api.html#d3chart_extend</a></footer>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h4>Architecting Reusable Charts</h4>
      <h2>Repeatable</h2>
    </hgroup>
    <article class="smaller">
      <p>Easily reuse a chart's blueprints on any node (using d3.chart)</p>
      <pre class="prettyprint" data-lang="javascript">
// define a chart
d3.chart("CircleChart", {
  initialize: function() {
    log("Hi! I'm a chart");
  }
});

var chart1 = d3.select("#chart1")
  .chart("CircleChart");

var chart2 = d3.select("#chart2")
  .chart("CircleChart");
</pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h4>Architecting Reusable Charts</h4>
      <h2>Updatable</h2>
    </hgroup>
    <article class="smaller">
      <pre class="prettyprint" data-lang="javascript">
// assume previously defined d3.chart called
// CircleChart

// create an instance of the chart on a d3 selection
var chart = d3.select(output)
  .append("svg")
  .attr("height", 30)
  .attr("width", 400)
  .chart("CircleChart");

var data = [1,4,6,9,12,13,30];

// render it with some data
chart.draw(data);

// add data
data.push(35);

// render it with updated data
chart.draw(data);
</pre>
      <footer class="source">source: Miso Project – d3.chart <a href="http://misoproject.com/d3-chart/api.html#d3chart_i_draw">http://misoproject.com/d3-chart/api.html#d3chart_i_draw</a></footer>
    </article>
  </slide>

  <slide>
    <article class="flexbox vcenter">
      <h2>Other projects doing this:</h2>
      <ul>
        <li>n3-charts <a href="http://n3-charts.github.io/line-chart/#/">http://n3-charts.github.io/line-chart/</a></li>
        <li>NVD3 <a href="http://nvd3.org/">http://nvd3.org/</a></li>
        <li>C3 <a href="http://c3js.org/">http://c3js.org/</a></li>
        <li>d3.chart <a href="http://misoproject.com/d3-chart/">http://misoproject.com/d3-chart/</a></li>
      </ul>
    </article>
  </slide>

  <slide>
    <article class="flexbox vcenter">
      <img src="images/d3.chart.png">
      <footer class="source">source: Miso Project – d3.chart <a href="http://misoproject.com/d3-chart/">http://misoproject.com/d3-chart/</a></footer>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Building a reusable circle chart</h2>
    </hgroup>
    <article class="smaller">
      <pre class="prettyprint" data-lang="javascript">
d3.chart('BarChart', {
  initialize: function() {
    this.xScale = d3.scale.ordinal();
    this.yScale = d3.scale.linear();
    this._color = d3.scale.category10();

    this._width = this._width || this.base.attr('width') || 200;
    this._height = this._height || this.base.attr('height') || 100;

    var barsLayerBase = this.base.append('g')
      .classed('bars', true);

    this.layer('bars', barsLayerBase, {

      dataBind: function(data) {
        var chart = this.chart();

        // update x-scale

        // update y-scale

        // return selection with new data bound to it
      },

      insert: function() {
        // return this with alterations that happens on insertion of new data points
      },

      events: {
        enter: function() {
          // return this with alterations that happen on enter
        }
      }

    });
  },

  width: function(newValue) {
    if (arguments.length === 0) {
      return this._width;
    }
    this._width = newValue;
    this.base.attr('width', this._width);
    this.xScale.rangeRoundBands([0, newValue], 0.1);
    return this;
  },

  height: function(newValue) {
    if (arguments.length === 0) {
      return this._height;
    }
    this._height = newValue;
    this.base.attr('height', this._height);
    this.yScale.range([newValue, 0]);
    return this;
  }
});
</pre>
    </article>
  </slide>

  <slide class="thank-you-slide segue nobackground">
    <article class="flexbox vleft auto-fadein">
      <h2>Thank You!</h2>
      <p>Questions?</p>
    </article>
    <p class="auto-fadein" data-config-contact>
      <!-- populated from slide_config.json -->
    </p>
  </slide>

  <slide class="backdrop"></slide>

</slides>

<script>
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-XXXXXXXX-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

<!--[if IE]>
  <script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
  <script>CFInstall.check({mode: 'overlay'});</script>
<![endif]-->
</body>
</html>
